(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[0],{

/***/ "./app-src/domain/negociacao/NegociacaoService.js":
/*!********************************************************!*\
  !*** ./app-src/domain/negociacao/NegociacaoService.js ***!
  \********************************************************/
/*! exports provided: NegociacaoService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NegociacaoService\", function() { return NegociacaoService; });\n/* harmony import */ var _util_HttpService_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/HttpService.js */ \"./app-src/util/HttpService.js\");\n/* harmony import */ var _Negociacao_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Negociacao.js */ \"./app-src/domain/negociacao/Negociacao.js\");\n/* harmony import */ var _util_ApplicationException_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/ApplicationException.js */ \"./app-src/util/ApplicationException.js\");\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n\n\n\n\nlet NegociacaoService = class NegociacaoService {\n\n    constructor() {\n\n        this._http = new _util_HttpService_js__WEBPACK_IMPORTED_MODULE_0__[\"HttpService\"]();\n    }\n\n    obtemNegociacoesDaSemana() {\n\n        return this._http.get(`${\"http://localhost:3000\"}/negociacoes/semana`).then(dados => dados.map(objeto => new _Negociacao_js__WEBPACK_IMPORTED_MODULE_1__[\"Negociacao\"](new Date(objeto.data), objeto.quantidade, objeto.valor)), err => {\n\n            throw new _util_ApplicationException_js__WEBPACK_IMPORTED_MODULE_2__[\"ApplicationException\"]('Não foi possível obter as negociações da semana');\n        });\n    }\n\n    obtemNegociacoesDaSemanaAnterior() {\n\n        return this._http.get(`${\"http://localhost:3000\"}/negociacoes/anterior`).then(dados => dados.map(objeto => new _Negociacao_js__WEBPACK_IMPORTED_MODULE_1__[\"Negociacao\"](new Date(objeto.data), objeto.quantidade, objeto.valor)), err => {\n\n            throw new _util_ApplicationException_js__WEBPACK_IMPORTED_MODULE_2__[\"ApplicationException\"]('Não foi possível obter as negociações da semana anterior');\n        });\n    }\n\n    obtemNegociacoesDaSemanaRetrasada() {\n\n        return this._http.get(`${\"http://localhost:3000\"}/negociacoes/retrasada`).then(dados => dados.map(objeto => new _Negociacao_js__WEBPACK_IMPORTED_MODULE_1__[\"Negociacao\"](new Date(objeto.data), objeto.quantidade, objeto.valor)), err => {\n            throw new _util_ApplicationException_js__WEBPACK_IMPORTED_MODULE_2__[\"ApplicationException\"]('Não foi possível obter as negociações da semana retrasada');\n        });\n    }\n\n    obtemNegociacoesDoPeriodo() {\n        var _this = this;\n\n        return _asyncToGenerator(function* () {\n\n            try {\n                let periodo = yield Promise.all([_this.obtemNegociacoesDaSemana(), _this.obtemNegociacoesDaSemanaAnterior(), _this.obtemNegociacoesDaSemanaRetrasada()]);\n                return periodo.reduce(function (novoArray, item) {\n                    return novoArray.concat(item);\n                }, []).sort(function (a, b) {\n                    return b.data.getTime() - a.data.getTime();\n                });\n            } catch (err) {\n                console.log(err);\n                throw new _util_ApplicationException_js__WEBPACK_IMPORTED_MODULE_2__[\"ApplicationException\"]('Não foi possível obter as negociações do período');\n            };\n        })();\n    }\n};\n\n//# sourceURL=webpack:///./app-src/domain/negociacao/NegociacaoService.js?");

/***/ })

}]);